#: include mainmappicture.kv
#: include mapview.kv
#: include gameunit.kv
#: include menubutton.kv
#: include building.kv
#: include uran.kv
#: include uranminer.kv
#: include selectbox.kv
#: include minimap.kv

<MainWindow>:
    id: MainWindow
    # Główne tło na którym zostanie położony ekran gry
#    canvas.before:
#        Color:
#            rgb: 0.7,0.7,0.7
#        Rectangle:
#            size: root.width, root.height

    MapView:
        id: MapView
        size_hint: 1,1
        index: 10000
        pos_hint: {"x":0.1,"y":0}
        MainMapPicture:
            id: MainMapPicture
            on_touch_down: root.click_on_map(*args)
            source: "main_map.jpg"
            canvas.before:
                Rectangle:
    Button:
        id: StartButton
        text: "Click to start"
        canvas.before:
            Color:
                rgb: 0.7,0.7,0.7
            Rectangle:
                size: 100,100
                on_touch_down: root.start()
        on_release: root.start()

    Widget:
        id: SidePanelWidget
        index:0
        canvas.before:
            Color:
                rgb: 0.7,0.7,0.7
            Rectangle:
                size: root.width*0.1, root.height


        Label:
            id: Dollars
            text: "Money:"
            pos: SidePanelWidget.width * 0.001,SidePanelWidget.height * 0.775
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
        Label:
            id: Dollars
            text: "Power:"
            pos: SidePanelWidget.width * 0.001,SidePanelWidget.height * 0.755
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
        Label:
            id: Money_label
            text: self.text
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.775
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08

        Label:
            id: Money_labelComp
            text: self.text
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.2
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.1
        Label:
            id: Power_label
            text: self.text
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.76
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
        Label:
            id: Energy_labelComp
            text: self.text
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.15
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.1



        MenuButton:
            id: MenuButton_BuildMainBase
            text: "MainBaseBuild" if not self.selected else "ADD mode ON"
            pos: SidePanelWidget.width * 0.003,SidePanelWidget.height * 0.7
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.add_building("MainBase","Friend")
            disabled: True

        MenuButton:
            id: MenuButton_BuildRafinery
            text: "Rafinery"
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.7
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.add_building("Rafinery","Friend")
            disabled: True
        MenuButton:
            id: MenuButton_BuildPowerPlant
            text: "PowerPlant"
            pos: SidePanelWidget.width * 0.003,SidePanelWidget.height * 0.6185
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.add_building("PowerPlant","Friend")
            disabled: True
        MenuButton:
            id: MenuButton_BuildWarFactory
            text: "WarFactory"
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.6185
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.add_building("WarFactory","Friend")
            disabled: True
        # Odstępy miedzy buttonami - 0.0815
        MenuButton:
            id: MenuButton_BuildDefenceTower
            text: "Defence_Tower"
            pos: SidePanelWidget.width * 0.003,SidePanelWidget.height * 0.537
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.add_building("DefenceTower","Friend")
            disabled: True
        MenuButton:
            id: MenuButton_BuildTank
            text: "Tank"
            pos: SidePanelWidget.width * 0.003,SidePanelWidget.height * 0.4
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.build_HumanPlayerUnit("Tank","Friend")
            disabled: True
        MenuButton:
            id: MenuButton_BuildRocketLauncher
            text: "RocketLauncher"
            pos: SidePanelWidget.width * 0.05,SidePanelWidget.height * 0.4
            size: SidePanelWidget.width*0.045,SidePanelWidget.height *0.08
            on_release: root.build_HumanPlayerUnit("RocketLauncher","Friend")
            disabled: True



# Debug buttons


        # Save map
        MenuButton:
            id: MenuButton_AddSelect
            text: "Explosions On" if not self.selected else "Explosions Off"
            pos: SidePanelWidget.width * 0.00,SidePanelWidget.height * 0.0
            size: SidePanelWidget.width * 0.06,SidePanelWidget.height *0.04
            disabled: False
























